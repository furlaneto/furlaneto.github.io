<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>JSON-B, trabalhando com JSON através das especificações Java | techiohub</title>
<meta name="generator" content="Jekyll v3.8.3" />
<meta property="og:title" content="JSON-B, trabalhando com JSON através das especificações Java" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Com a evolução dos sistemas, cada vez mais precisamos nos comunicar com outros aplicações, sejam elas aplicações externas, como uma consulta na API do Facebook, Github ou até mesmo em aplicações internas, como microservices. Hoje em dia, a maioria dessas mensagens em sistemas modernos, utilizam como formato de comunicação o JSON, mas sempre sentimos falta de uma API/biblioteca do próprio Java para realizar os parses de JSON para objeto ou vice versa e também os binds. Para resolver isso, acabamos utilizando frameworks como o Jackson e o Gson, que por sinal são excelentes. Para resolver este problema, desde o Java EE7 já começaram algumas especificações, como a JSR 353 para realizar o processamento do JSON, realizando parses, geração, transformação e etc. Para completar, após alguns anos surgiu uma nova especificação, a JSR 367, conhecida também como JSON-B, trazendo melhorias para trabalhar com JSON. Sendo assim, agora existem mais possibilidades e opções de bibliotecas para trabalhar com o formato JSON, além do Java oferecer tal funcionalidade, que para XML já existe faz algum tempo, o JAXB. Para a demonstração do JSON-B, será utilizado a implementação de referência para a API, o Eclipse Yasson, mas não é a única implementação, existe o Apache Johnzon também." />
<meta property="og:description" content="Com a evolução dos sistemas, cada vez mais precisamos nos comunicar com outros aplicações, sejam elas aplicações externas, como uma consulta na API do Facebook, Github ou até mesmo em aplicações internas, como microservices. Hoje em dia, a maioria dessas mensagens em sistemas modernos, utilizam como formato de comunicação o JSON, mas sempre sentimos falta de uma API/biblioteca do próprio Java para realizar os parses de JSON para objeto ou vice versa e também os binds. Para resolver isso, acabamos utilizando frameworks como o Jackson e o Gson, que por sinal são excelentes. Para resolver este problema, desde o Java EE7 já começaram algumas especificações, como a JSR 353 para realizar o processamento do JSON, realizando parses, geração, transformação e etc. Para completar, após alguns anos surgiu uma nova especificação, a JSR 367, conhecida também como JSON-B, trazendo melhorias para trabalhar com JSON. Sendo assim, agora existem mais possibilidades e opções de bibliotecas para trabalhar com o formato JSON, além do Java oferecer tal funcionalidade, que para XML já existe faz algum tempo, o JAXB. Para a demonstração do JSON-B, será utilizado a implementação de referência para a API, o Eclipse Yasson, mas não é a única implementação, existe o Apache Johnzon também." />
<link rel="canonical" href="https://techiohub.com/jsonb-api-para-trabalhar-com-json-no-java/" />
<meta property="og:url" content="https://techiohub.com/jsonb-api-para-trabalhar-com-json-no-java/" />
<meta property="og:site_name" content="techiohub" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-01-08T10:02:00-02:00" />
<script type="application/ld+json">
{"description":"Com a evolução dos sistemas, cada vez mais precisamos nos comunicar com outros aplicações, sejam elas aplicações externas, como uma consulta na API do Facebook, Github ou até mesmo em aplicações internas, como microservices. Hoje em dia, a maioria dessas mensagens em sistemas modernos, utilizam como formato de comunicação o JSON, mas sempre sentimos falta de uma API/biblioteca do próprio Java para realizar os parses de JSON para objeto ou vice versa e também os binds. Para resolver isso, acabamos utilizando frameworks como o Jackson e o Gson, que por sinal são excelentes. Para resolver este problema, desde o Java EE7 já começaram algumas especificações, como a JSR 353 para realizar o processamento do JSON, realizando parses, geração, transformação e etc. Para completar, após alguns anos surgiu uma nova especificação, a JSR 367, conhecida também como JSON-B, trazendo melhorias para trabalhar com JSON. Sendo assim, agora existem mais possibilidades e opções de bibliotecas para trabalhar com o formato JSON, além do Java oferecer tal funcionalidade, que para XML já existe faz algum tempo, o JAXB. Para a demonstração do JSON-B, será utilizado a implementação de referência para a API, o Eclipse Yasson, mas não é a única implementação, existe o Apache Johnzon também.","@type":"BlogPosting","url":"https://techiohub.com/jsonb-api-para-trabalhar-com-json-no-java/","headline":"JSON-B, trabalhando com JSON através das especificações Java","dateModified":"2018-01-08T10:02:00-02:00","datePublished":"2018-01-08T10:02:00-02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://techiohub.com/jsonb-api-para-trabalhar-com-json-no-java/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://techiohub.com/feed.xml" title="techiohub" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-111038988-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
</head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">techiohub</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">Sobre</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">JSON-B, trabalhando com JSON através das especificações Java</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-01-08T10:02:00-02:00" itemprop="datePublished">Jan 8, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Com a evolução dos sistemas, cada vez mais precisamos nos comunicar com outros aplicações, sejam elas aplicações externas, como uma consulta na API do Facebook, Github ou até mesmo em aplicações internas, como <em>microservices</em>. 
Hoje em dia, a maioria dessas mensagens em sistemas modernos, utilizam como formato de comunicação o JSON, mas sempre sentimos falta de uma API/biblioteca do próprio Java para realizar os <em>parses</em> de JSON para objeto ou vice versa e também os <em>binds</em>. Para resolver isso, acabamos utilizando <em>frameworks</em> como o <a href="https://github.com/FasterXML/jackson">Jackson</a> e o <a href="https://github.com/google/gson">Gson</a>, que por sinal são excelentes.
Para resolver este problema, desde o Java EE7 já começaram algumas especificações, como a <a href="https://www.jcp.org/en/jsr/detail?id=353">JSR 353</a> para realizar o processamento do JSON, realizando <em>parses</em>, geração, transformação e etc. Para completar, após alguns anos surgiu uma nova especificação, a <a href="https://jcp.org/en/jsr/detail?id=367">JSR 367</a>, conhecida também como JSON-B, trazendo melhorias para trabalhar com JSON.
Sendo assim, agora existem mais possibilidades e opções de bibliotecas para trabalhar com o formato JSON, além do Java oferecer tal funcionalidade, que para XML já existe faz algum tempo, o JAXB. Para a demonstração do JSON-B, será utilizado a implementação de referência para a API, o <a href="https://github.com/eclipse/yasson">Eclipse Yasson</a>, mas não é a única implementação, existe o <a href="https://johnzon.apache.org/">Apache Johnzon</a> também.</p>

<p>Para começar, o projeto deve ter as seguintes dependências:</p>
<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;dependencies&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.eclipse<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>yasson<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.0.1<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
    <span class="nt">&lt;dependency&gt;</span>
        <span class="nt">&lt;groupId&gt;</span>org.glassfish<span class="nt">&lt;/groupId&gt;</span>
        <span class="nt">&lt;artifactId&gt;</span>javax.json<span class="nt">&lt;/artifactId&gt;</span>
        <span class="nt">&lt;version&gt;</span>1.1.2<span class="nt">&lt;/version&gt;</span>
    <span class="nt">&lt;/dependency&gt;</span>
<span class="nt">&lt;/dependencies&gt;</span>
</code></pre></div></div>

<p>Como classe de exemplo, será utilizada a seguinte:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">User</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Integer</span> <span class="n">id</span><span class="o">;</span>

    <span class="nd">@JsonbTransient</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">username</span><span class="o">;</span>

    <span class="nd">@JsonbProperty</span><span class="o">(</span><span class="s">"passwd"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">password</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">String</span> <span class="n">email</span><span class="o">;</span>

    <span class="nd">@JsonbDateFormat</span><span class="o">(</span><span class="s">"dd/MM/yyyy"</span><span class="o">)</span>
    <span class="kd">private</span> <span class="n">LocalDate</span> <span class="n">createdAt</span><span class="o">;</span>

    <span class="c1">//getters and setters</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Aqui já é possível ver algumas anotações:</p>
<ul>
  <li><em>@JsonbTransient:</em> Para ignorar o campo na serialização e desserialização.</li>
  <li><em>@JsonbProperty:</em> Definir qual será o nome do campo no Json, caso seja diferente do que está na classe.</li>
  <li><em>@JsonbDateFormat:</em> Trocar o formato da data.</li>
</ul>

<p>Essas são apenas algumas anotações, existindo outros para cada funcionalidade específica.</p>

<p>Após isso, vamos utilizar o seguinte usuário como exemplo:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">User</span> <span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">id</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
                <span class="o">.</span><span class="na">name</span><span class="o">(</span><span class="s">"Lucas"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">username</span><span class="o">(</span><span class="s">"furlaneto"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">password</span><span class="o">(</span><span class="s">"123"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">email</span><span class="o">(</span><span class="s">"lucas@techiohub.com"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">createdAt</span><span class="o">(</span><span class="n">LocalDate</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="mi">2018</span><span class="o">,</span> <span class="mi">1</span><span class="o">,</span> <span class="mi">1</span><span class="o">))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</code></pre></div></div>

<p>Com o nosso objeto já pronto, agora é só instanciar o nosso <strong>Jsonb</strong> para começarmos a manipular.</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Jsonb</span> <span class="n">jsonb</span> <span class="o">=</span> <span class="n">JsonbBuilder</span><span class="o">.</span><span class="na">create</span><span class="o">();</span>
</code></pre></div></div>

<p>Para transformar o objeto para JSON, simplesmente execute o seguinte método:</p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">String</span> <span class="n">jsonUser</span> <span class="o">=</span> <span class="n">jsonb</span><span class="o">.</span><span class="na">toJson</span><span class="o">(</span><span class="n">user</span><span class="o">);</span>
</code></pre></div></div>

<p>Ao visualizar a <em>String</em> <strong>jsonUser</strong> terá o seguinte conteúdo:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01/01/2018"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"lucas@techiohub.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="s2">"passwd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"furlaneto"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Para realizar a conversão contrária, basta utilizar o método <em>fromJson</em> e vamos ter o nosso <strong>User</strong> novamente na forma de objeto</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User [id=1,name="null",username="furlaneto",password="123",email="lucas@techiohub.com",createdAt=2018-01-01]
</code></pre></div></div>

<p>Esta foi apenas uma pequena demonstração das especificações, mas existem outras funcionalidades que também são encontradas nos frameworks citadas no início do post. Caso queira conhecer mais sobre o JSON-B pode accessar os links úteis no fim do post e também conferir o projeto por completo utilizado como exemplo.</p>

<p><strong>Links úteis</strong></p>
<ul>
  <li><a href="http://json-b.net/">Site JSON-B</a></li>
  <li><a href="https://github.com/furlaneto/jsonb-example">Exemplo no Github</a></li>
</ul>

  </div><a class="u-url" href="/jsonb-api-para-trabalhar-com-json-no-java/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">techiohub</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">techiohub</li><li><a class="u-email" href="mailto:lucasfurlaneto.s@gmail.com">lucasfurlaneto.s@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Divulgação e troca de conhecimentos relacionados a desenvolvimento,  tecnologia, design, melhores práticas, mundo open source e muito mais.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
